var assetsToCache=[];const caceheList=["usr/themes/handsome/assets/","vditor","jquery","bootstrap","mathjax","mdui","hm.js"],notCacheList=["/admin/"];self.addEventListener("install",(function(event){event.waitUntil(self.skipWaiting())}));var version="8.2.0",versionTag="[VERSION_TAG]",CACHE_NAME=version+versionTag;function isExitInCacheList(list,url){return list.some((function(value){return-1!==url.indexOf(value)}))}self.addEventListener("activate",(function(event){var mainCache=[CACHE_NAME];return event.waitUntil(caches.keys().then((function(cacheNames){return Promise.all(cacheNames.map((function(cacheName){if(-1===mainCache.indexOf(cacheName))return console.info("version changed, clean the cache, SW: deleting "+cacheName),caches.delete(cacheName)})))}))),self.clients.claim()})),self.addEventListener("fetch",(function(event){return"GET"===event.request.method&&(!(!isExitInCacheList(caceheList,event.request.url)||isExitInCacheList(notCacheList,event.request.url))&&void event.respondWith(caches.match(event.request).then((function(response){return response||fetch(event.request).then((function(response){return caches.open(CACHE_NAME).then((function(cache){return cache.put(event.request,response.clone()),response}))})).catch((function(error){}))}))))}));